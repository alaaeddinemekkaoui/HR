{% extends 'base.html' %}
{% load roles_extras %}
{% block title %}{{ template_obj.name }}{% endblock %}
{% block content %}
<div class="container" style="max-width: 900px;">
  <div class="d-print-none d-flex justify-content-between align-items-center mb-3">
    <div class="text-muted">Modèle: {{ template_obj.name }}</div>
    <div class="d-flex gap-2">
      {% if request.user.is_superuser or request.user|has_group:'IT Admin' or request.user|has_group:'HR Admin' or request.user|has_group:'HR' %}
        <a class="btn btn-outline-primary" href="?choose=1"><i class="bi bi-people"></i> Changer d'employé</a>
      {% endif %}
      <button class="btn btn-outline-secondary" onclick="window.print()"><i class="bi bi-printer"></i> Imprimer</button>
    </div>
  </div>
  <div class="card shadow-sm border-0">
    <div class="card-body p-5">
      <div class="doc-rendered">{{ rendered|safe }}</div>
    </div>
  </div>
</div>
<style>
@media print {
  nav, .sidebar, .d-print-none { display: none !important; }
  body { background: white !important; }
  main { padding: 0 !important; }
}
</style>
{% endblock %}
